{% extends 'finance/base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-12 col-md-6">
        <div class="card mt-5 border-danger">
            <div class="card-body">
                <h2 class="card-title text-center mb-4 text-danger">⚠️ Reset Budget to Default</h2>
                
                <div class="alert alert-danger" role="alert">
                    <h5 class="alert-heading"><strong>⚠️ DANGER: This will delete ALL your data!</strong></h5>
                    <p class="mb-0"><strong>This action is PERMANENT and CANNOT be undone!</strong></p>
                </div>
                
                <p class="lead">You are about to <strong class="text-danger">permanently delete</strong> all of your budget data and reset to the default installation.</p>
                
                <p><strong>This will delete:</strong></p>
                <ul class="list-unstyled">
                    <li class="mb-2">❌ <strong>{{ category_count }} categories</strong> (all parent and sub-categories)</li>
                    {% if budget_count > 0 %}
                    <li class="mb-2">❌ <strong>{{ budget_count }} budget entries</strong></li>
                    {% endif %}
                    {% if transaction_count > 0 %}
                    <li class="mb-2">❌ <strong>{{ transaction_count }} transactions</strong> (all transaction history)</li>
                    {% endif %}
                    {% if note_count > 0 %}
                    <li class="mb-2">❌ <strong>{{ note_count }} category notes</strong></li>
                    {% endif %}
                </ul>
                
                <div class="alert alert-warning" role="alert">
                    <strong>⚠️ WARNING:</strong> Once deleted, this data <strong>CANNOT be recovered</strong>. Make sure you have exported any important data before proceeding.
                </div>
                
                <p class="text-muted">After deletion, the default starter template with standard categories will be installed. You will have a completely fresh start.</p>
                
                <form method="post" class="mt-4">
                    {% csrf_token %}
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-danger btn-lg">⚠️ Yes, Delete ALL Data and Reset</button>
                        <a href="{% url 'category_list' %}" class="btn btn-secondary">Cancel - Keep My Data</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

